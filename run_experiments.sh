#!/bin/bash

main(){

local MESSAGESLOW=1000000
local MESSAGESHIGH=100000
local FREQUENCYLOW=500
local FREQUENCYHIGH=500
local RUNS=10


SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip one -stored-deserialized -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T1-3A.out && mv benchmark.log T1-3A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip one -stored-deserialized -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T1-5A.out && mv benchmark.log T1-5A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip one -stored-deserialized -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T1-9A.out && mv benchmark.log T1-9A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip one -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T1-3B.out && mv benchmark.log T1-3B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip one -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T1-5B.out && mv benchmark.log T1-5B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip one -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T1-9B.out && mv benchmark.log T1-9B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip one -osd-merge -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T1-3C.out && mv benchmark.log T1-3C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip one -osd-merge -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T1-5C.out && mv benchmark.log T1-5C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip one -osd-merge -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T1-9C.out && mv benchmark.log T1-9C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip 0.5 -stored-deserialized -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T2-3A.out && mv benchmark.log T2-3A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip 0.5 -stored-deserialized -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T2-5A.out && mv benchmark.log T2-5A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip 0.5 -stored-deserialized -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T2-9A.out && mv benchmark.log T2-9A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip 0.5 -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T2-3B.out && mv benchmark.log T2-3B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip 0.5 -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T2-5B.out && mv benchmark.log T2-5B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip 0.5 -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T2-9B.out && mv benchmark.log T2-9B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip 0.5 -osd-merge -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T2-3C.out && mv benchmark.log T2-3C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip 0.5 -osd-merge -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T2-5C.out && mv benchmark.log T2-5C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip 0.5 -osd-merge -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T2-9C.out && mv benchmark.log T2-9C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip all -stored-deserialized -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T3-3A.out && mv benchmark.log T3-3A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip all -stored-deserialized -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T3-5A.out && mv benchmark.log T3-5A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip all -stored-deserialized -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T3-9A.out && mv benchmark.log T3-9A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip all -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T3-3B.out && mv benchmark.log T3-3B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip all -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T3-5B.out && mv benchmark.log T3-5B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip all -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T3-9B.out && mv benchmark.log T3-9B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip all -osd-merge -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T3-3C.out && mv benchmark.log T3-3C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip all -osd-merge -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T3-5C.out && mv benchmark.log T3-5C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYLOW -gossip all -osd-merge -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T3-9C.out && mv benchmark.log T3-9C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip one -stored-deserialized -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T4-3A.out && mv benchmark.log T4-3A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip one -stored-deserialized -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T4-5A.out && mv benchmark.log T4-5A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip one -stored-deserialized -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T4-9A.out && mv benchmark.log T4-9A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip one -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T4-3B.out && mv benchmark.log T4-3B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip one -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T4-5B.out && mv benchmark.log T4-5B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip one -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T4-9B.out && mv benchmark.log T4-9B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip one -osd-merge -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T4-3C.out && mv benchmark.log T4-3C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip one -osd-merge -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T4-5C.out && mv benchmark.log T4-5C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip one -osd-merge -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T4-9C.out && mv benchmark.log T4-9C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip 0.5 -stored-deserialized -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T5-3A.out && mv benchmark.log T5-3A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip 0.5 -stored-deserialized -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T5-5A.out && mv benchmark.log T5-5A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip 0.5 -stored-deserialized -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T5-9A.out && mv benchmark.log T5-9A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip 0.5 -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T5-3B.out && mv benchmark.log T5-3B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip 0.5 -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T5-5B.out && mv benchmark.log T5-5B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip 0.5 -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T5-9B.out && mv benchmark.log T5-9B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip 0.5 -osd-merge -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T5-3C.out && mv benchmark.log T5-3C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip 0.5 -osd-merge -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T5-5C.out && mv benchmark.log T5-5C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESHIGH -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip 0.5 -osd-merge -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T5-9C.out && mv benchmark.log T5-9C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip all -stored-deserialized -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T6-3A.out && mv benchmark.log T6-3A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip all -stored-deserialized -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T6-5A.out && mv benchmark.log T6-5A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip all -stored-deserialized -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T6-9A.out && mv benchmark.log T6-9A.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip all -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T6-3B.out && mv benchmark.log T6-3B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip all -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T6-5B.out && mv benchmark.log T6-5B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip all -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T6-9B.out && mv benchmark.log T6-9B.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip all -osd-merge -serializer pickle -replicas 3" && ./process_log.sh benchmark.log > T6-3C.out && mv benchmark.log T6-3C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip all -osd-merge -serializer pickle -replicas 5" && ./process_log.sh benchmark.log > T6-5C.out && mv benchmark.log T6-5C.log &&
SBT_OPTS="-Xms1024M -Xmx2048M -Xss4M -XX:MaxMetaspaceSize=2048M" sbt "run -runs $RUNS -messages $MESSAGESLOW -read-ratio 0 -gossip-frequency $FREQUENCYHIGH -gossip all -osd-merge -serializer pickle -replicas 9" && ./process_log.sh benchmark.log > T6-9C.out && mv benchmark.log T6-9C.log

}

main $*